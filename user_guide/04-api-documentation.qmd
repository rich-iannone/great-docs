---
title: "API Documentation"
guide-section: "Core Concepts"
bread-crumbs: false
---

# API Documentation

Great Docs automatically discovers and documents your package's public API. This guide explains how discovery works and how to customize the output.

## How Discovery Works

When you run `great-docs init` or `great-docs build`, Great Docs:

1. **Finds your package** – Looks in standard locations (`src/`, `python/`, project root)
2. **Uses static analysis** – Analyzes your code with `griffe` without importing it
3. **Discovers public names** – Finds all non-private names (not starting with `_`)
4. **Categorizes items** – Separates classes, functions, and other exports
5. **Generates configuration** – Creates quartodoc sections in `_quarto.yml`

### Static Analysis Benefits

Great Docs uses static analysis rather than importing your package. This means:

- **No side effects** – Your code isn't executed during discovery
- **No import errors** – Missing dependencies won't break documentation
- **Faster discovery** – No need to set up a complete environment
- **Safer** – Works even if your package has complex initialization

## What Gets Documented

By default, Great Docs documents:

- **Classes** – All public classes with their methods
- **Functions** – All public functions
- **Module-level constants** – Public constants and type aliases

### Exclusion Rules

Some names are automatically excluded:

```python
# These are auto-excluded:
main        # CLI entry points
cli
version     # Version metadata
VERSION
core        # Internal modules
utils
helpers
logger      # Logging
log
```

To exclude additional names from `init` and `scan`:

```{.yaml filename="great-docs.yml"}
exclude:
  - InternalHelper
  - deprecated_function
```

Note: Once you have a `reference` config in `great-docs.yml`, you control exactly what gets documented by listing items there. The `exclude` setting only affects what `great-docs init` discovers when generating your initial config.

## Smart Method Handling

Large classes with many methods can create overwhelming documentation. Great Docs handles this intelligently by separating methods into their own pages when a class exceeds a threshold.

### Small Classes (≤5 methods)

Methods are documented inline on the class page:

```{.yaml filename="_quarto.yml"}
sections:
  - title: Classes
    contents:
      - MySmallClass  # Methods shown inline
```

### Large Classes (>5 methods)

Methods get their own section with individual pages:

```{.yaml filename="_quarto.yml"}
sections:
  - title: Classes
    contents:
      - name: MyLargeClass
        members: []  # Suppresses inline methods

  - title: MyLargeClass Methods
    desc: Methods for the MyLargeClass class
    contents:
      - MyLargeClass.method_one
      - MyLargeClass.method_two
      # ... all methods listed individually
```

This creates better navigation for classes with many methods.

## API Organization

### Default Sections

Great Docs creates these sections by default:

1. **Classes** – All public classes
2. **Functions** – All public functions
3. **[ClassName] Methods** – For large classes with >5 methods

These default section names are serviceable for most projects, giving users a clear starting point for navigating your API. However, you're encouraged to customize the organization using the `reference` config in `great-docs.yml` to create sections that better reflect your package's domain.

### Custom Organization with `reference` Config

You can explicitly control the API reference structure in `great-docs.yml`:

```{.yaml filename="great-docs.yml"}
reference:
  - title: User Management
    desc: Functions for managing users
    contents:
      - create_user
      - delete_user
      - update_user

  - title: Authentication
    desc: Functions for authentication
    contents:
      - login
      - logout
```

Items appear in the order listed within each section. This explicit configuration gives you complete control over how your API documentation is organized.

### Controlling Method Documentation

By default, class methods are documented inline on the class page. To exclude methods from documentation (for example, if you want to document them separately elsewhere), use `members: false`:

```{.yaml filename="great-docs.yml"}
reference:
  - title: Core Classes
    desc: Main classes for the package
    contents:
      - name: MyClass
        members: false       # Don't document methods here
      - SimpleClass          # Methods documented inline (default)

  - title: MyClass Methods
    desc: Methods for the MyClass class
    contents:
      - MyClass.method1
      - MyClass.method2
```

When `members: false` is set, only the class itself is documented. You can then place individual methods wherever you want in your reference structure.

### Excluding Items with `exclude`

To exclude items from documentation, add them to the `exclude` list in `great-docs.yml`:

```{.yaml filename="great-docs.yml"}
exclude:
  - internal_helper
  - deprecated_function
```

```{.python filename="Source code"}
def internal_helper():
    """
    This won't be documented.

    @nodoc
    """
    ...
```

Unlike adding items to the `exclude` list in `great-docs.yml`, the `@nodoc` directive keeps the exclusion decision right next to the code it affects. This makes it easier to remember why something was excluded and to reverse the decision later if needed.

### Cross-References with `@seealso`

Good documentation helps users discover related functionality. The `@seealso` directive adds a "See Also" section to an item's documentation page, linking to other classes or functions that users might find relevant.

```{.python filename="Source code"}
def parse_data(raw: str) -> Data:
    """
    Parse raw data.

    @seealso validate_data, transform_data
    """
    ...
```

List multiple items separated by commas. Great Docs automatically creates links to each referenced item, making it easy for readers to navigate between related parts of your API. This is especially valuable in larger packages where functionality is spread across many modules.

## Source Code Links

Great Docs automatically adds "source" links to each documented item, pointing to the exact line numbers on GitHub.

### How It Works

1. Great Docs detects your GitHub repository from `pyproject.toml` or `.git`
2. For each documented item, it finds the source file and line numbers
3. Links are generated pointing to `github.com/owner/repo/blob/branch/file#L1-L10`

### Configuration

```{.yaml filename="great-docs.yml"}
source:
  # Use a specific branch (default: auto-detected)
  branch: main

  # Disable source links
  enabled: false
```

## Visual Enhancements

Great Docs applies consistent styling to your API documentation, making it easier to scan and understand at a glance.

### Type Labels

Each documented item displays a colored label indicating its type. Classes appear with a green label, making them easy to spot as primary building blocks. Methods show a blue label with their full qualified name (like `Class.method()`), clearly indicating they belong to a class. Functions display an orange label (like `function()`), distinguishing them from methods. These visual cues help readers quickly identify what kind of object they're looking at.

### Code Styling

The documentation applies careful typography to code elements throughout. Function signatures use monospace fonts for clarity, and type annotations are formatted to be easily readable. Parameter lists have improved spacing that makes long signatures scannable. Code blocks benefit from enhanced syntax highlighting that matches the overall site theme. Together, these refinements make technical content more approachable.

### Responsive Design

API documentation needs to work on devices of all sizes, from large desktop monitors to phones. Great Docs optimizes the layout for each screen size with mobile-friendly navigation that adapts to touch interactions. The sidebar becomes collapsible on smaller screens, and typography scales appropriately to remain readable. Whether you're at your desk or reviewing docs on your phone during a commute, the experience remains consistent.

## Sidebar Filter

For packages with many exports, navigating the sidebar can become cumbersome. Great Docs addresses this with a built-in search filter that appears automatically when your API has 20 or more items.

The filter provides instant results as you type, narrowing down the sidebar to show only matching items. A count indicator shows how many items match your search out of the total. The section structure is preserved during filtering, so you maintain context about where items live in your API hierarchy.

You can customize when the filter appears in your `great-docs.yml`:

```{.yaml filename="great-docs.yml"}
sidebar_filter:
  enabled: true
  min_items: 15   # Show filter with 15+ items
```

Set `enabled: false` to disable it entirely, or adjust `min_items` to change the threshold.

## Refreshing API Documentation

When your package's API changes, rebuild with:

```{.bash filename="Terminal"}
great-docs build
```

This automatically re-discovers exports and updates the configuration.

For faster builds when only documentation content changed (not API):

```{.bash filename="Terminal"}
great-docs build --no-refresh
```

## Next Steps

- **[CLI Documentation](04-cli-documentation.qmd)** – Document your Click CLI
- **[User Guides](05-user-guides.qmd)** – Add narrative documentation
